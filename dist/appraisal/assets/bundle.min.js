function animateValue(e,t,a,o,i=!1){const n=document.getElementById(e);if(!n)return;let r=null;const s=e=>{r||(r=e);const l=Math.min((e-r)/o,1),c=l*(a-t)+t;n.innerHTML=i?c.toFixed(1):Math.floor(c).toLocaleString(),l<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}function resetAppraisal(){document.getElementById("appraisal-form").reset(),document.querySelector(".appraisal-form-box").style.display="block",document.getElementById("appraisal-result").style.display="none";const e=document.querySelector('#appraisal-form button[type="submit"]');e&&(e.disabled=!1,e.innerHTML='<span data-translate="appraisal-cta">Ottieni Valutazione AI</span> <i class="ph ph-arrow-right"></i>')}function isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function isValidPhone(e){return/^(\+39|0039|\+34|0034|0)?[0-9]{9,10}$/.test(e.replace(/\s/g,""))}document.addEventListener("DOMContentLoaded",function(){const e="localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&"file:"!==window.location.protocol&&window.location.hostname?"":"http://localhost:8000";console.log("ðŸš€ AI Backend targeting:",e||"Production (Relative)");const a=document.querySelector(".nav-toggle"),o=document.querySelector(".nav-links");a&&o&&a.addEventListener("click",function(){o.classList.toggle("active");const e=a.querySelector("i");e.classList.toggle("ph-list"),e.classList.toggle("ph-x")});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));if(t){const e=document.querySelector(".navbar").offsetHeight,i=t.offsetTop-e-20;if(window.scrollTo({top:i,behavior:"smooth"}),o&&o.classList.contains("active")){o.classList.remove("active");const e=a.querySelector("i");e.classList.remove("ph-x"),e.classList.add("ph-list")}}})});const i=document.querySelector(".demo-conversation");if(i){new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&function(){const e=document.querySelectorAll(".conversation-step");let t=0;setTimeout(function a(){t<e.length?(e.forEach(e=>e.classList.remove("active")),e[t].classList.add("active"),t++,setTimeout(a,3e3)):setTimeout(()=>{t=0,a()},5e3)},1e3)}()})},{threshold:.5}).observe(i)}const n=document.querySelector(".contact-form"),r=document.querySelector(".contact-form .btn-primary");n&&r&&r.addEventListener("click",function(t){t.preventDefault();const a=new FormData(n),o=a.get("name"),i=a.get("agency"),r=a.get("phone");if(!o||!i||!r)return void I("Per favore compila tutti i campi obbligatori","error");if(!/^(\+39|0039|\+34|0034|0)?[0-9]{9,10}$/.test(r.replace(/\s/g,"")))return void I("Per favore inserisci un numero di telefono valido","error");this.innerHTML='<i class="ph ph-spinner"></i> Elaborazione IA...',this.disabled=!0;const s={name:o,agency:i,phone:r,properties:a.get("properties")};fetch(`${e}/api/leads`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{const t="it"===document.documentElement.lang?"âœ… Lead ricevuto! Controlla il tuo WhatsApp tra 10 secondi.":"âœ… Lead received! Check your WhatsApp in 10 seconds.";I(t,"success"),n.reset(),this.innerHTML='<i class="ph ph-check-circle"></i> Inviato!',setTimeout(()=>{window.open("https://cal.com/anzevino-ai","_blank")},2e3)}).catch(e=>{console.error("Error:",e);const t="it"===document.documentElement.lang?"Errore di connessione. Riprova.":"Connection error. Please try again.";I(t,"error"),this.innerHTML='<i class="ph ph-warning"></i> Riprova',this.disabled=!1})});document.querySelectorAll('[href*="whatsapp"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=`https://wa.me/+393401234567?text=${encodeURIComponent("Ciao! Vorrei saperne di piÃ¹ sui vostri servizi AI per agenzie immobiliari.")}`;window.open(t,"_blank")})});const s=document.querySelector(".navbar");window.addEventListener("scroll",function(){window.scrollY>100?(s.style.background="rgba(255, 255, 255, 0.98)",s.style.boxShadow="0 4px 20px rgba(15, 23, 42, 0.1)"):(s.style.background="rgba(255, 255, 255, 0.95)",s.style.boxShadow="none")});const l=document.querySelectorAll(".feature-card, .feature-item, .problem-stat, .stat-card"),c=new IntersectionObserver(e=>{e.forEach((e,t)=>{e.isIntersecting&&setTimeout(()=>{e.target.style.opacity="1",e.target.style.transform="translateY(0) scale(1)"},100*t)})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});async function d(e,t,a=3){let o;for(let i=0;i<=a;i++)try{const a=new AbortController,o=setTimeout(()=>a.abort(),3e4),i=await fetch(e,{...t,signal:a.signal});if(clearTimeout(o),!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return await i.json()}catch(e){if(o=e,i===a)break;const t=1e3*Math.pow(2,i);I(`Connection issue. Retrying in ${t/1e3}s... (${i+1}/${a})`,"warning"),await new Promise(e=>setTimeout(e,t))}throw o}l.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px) scale(0.95)",e.style.transition="all 0.8s cubic-bezier(0.22, 1, 0.36, 1)",c.observe(e)}),window.addEventListener("online",()=>{I(t("status-online")||"Connection restored!","success")}),window.addEventListener("offline",()=>{I(t("status-offline")||"Lost internet connection","warning")}),document.querySelectorAll(".form-group input, .form-group select, .mini-form input, .mini-form select").forEach(e=>{e.addEventListener("blur",function(){this.required&&!this.value?this.classList.add("error"):this.classList.remove("error")}),e.addEventListener("input",function(){this.classList.remove("error")})});const p=document.getElementById("appraisal-form");if(p){const a=document.getElementById("appraisal-postcode"),o=document.getElementById("appraisal-phone"),i=document.getElementById("appraisal-sqm"),n=document.getElementById("appraisal-address");a&&a.addEventListener("input",()=>{formatPostalCode(a),validateField(a,validators.postalCode)}),o&&o.addEventListener("input",()=>{formatPhoneNumber(o),validateField(o,validators.phone)}),i&&i.addEventListener("input",()=>{validateField(i,validators.sqm)}),n&&n.addEventListener("input",()=>{validateField(n,validators.address)}),p.addEventListener("submit",function(a){a.preventDefault();const o=this.querySelector('button[type="submit"]'),i=document.getElementById("appraisal-address").value,n=document.getElementById("appraisal-postcode").value,r=document.getElementById("appraisal-disclaimer-check"),s=document.getElementById("appraisal-phone").value,l=document.getElementById("appraisal-condition").value,c=document.getElementById("appraisal-sqm").value;if(r&&!r.checked)return void I(t("form-error-disclaimer"),"error");if(!/^(\+39|0039|\+34|0034|0)?[0-9]{9,10}$/.test(s.replace(/\s/g,"")))return void I(t("form-error-phone"),"error");let p=s.replace(/\s/g,"");p.startsWith("+")||(p=p.startsWith("00")?"+"+p.substring(2):"+39"+(p.startsWith("0")?p.substring(1):p)),o.innerHTML=`<i class="ph ph-spinner"></i> ${t("appraisal-status-analyzing")}`,o.disabled=!0;const m={name:"AI Appraisal Lead",agency:"Fifi Appraisal Tool",phone:p,postcode:n,properties:"RICHIESTA VALUTAZIONE: "+i+" (Condizione: "+l+") MQ: "+c},u=(e=>{const t=["Firenze","Florence","Roma","Rome","Milano","Milan","Napoli","Naples","Torino","Turin","Bologna","Venezia","Venice"],a=e.toUpperCase();for(const e of t)if(a.includes(e.toUpperCase()))return"Firenze"===e?"Florence":"Roma"===e?"Rome":"Milano"===e?"Milan":"Napoli"===e?"Naples":"Torino"===e?"Turin":"Venezia"===e?"Venice":e;return"Florence"})(i),g={city:u,zone:n,surface_sqm:parseInt(c),condition:l},h=appraisalCache.get(g);if(h)return displayAppraisalResults(h,o),void I(t("appraisal-cached")||"Caricamento da ricerca recente","success");showLoadingProgress(t("loading-analyzing")||"Analisi dei dati di mercato...",30);const f=d(`${e}/api/leads`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).catch(e=>(console.warn("Lead creation failed - continuing appraisal",e),null)),v=d(`${e}/api/appraisals/estimate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:u,zone:n,surface_sqm:parseInt(c),condition:l,phone:p})});Promise.all([f,v]).then(([e,a])=>{showLoadingProgress(t("loading-finalizing")||"Finalizzazione risultati...",100),setTimeout(()=>{hideLoadingProgress(),appraisalCache.set(g,a),displayAppraisalResults(a,o)},150)}).catch(e=>{console.error("Appraisal error:",e);const a=function(e){return navigator.onLine?"AbortError"===e.name||e.message?.includes("timeout")?{message:t("error-timeout")||"Request timed out. The service might be slow. Please try again.",type:"warning"}:e.message?.includes("429")?{message:t("error-rate-limit")||"Too many requests. Please wait a moment and try again.",type:"warning"}:e.message?.includes("500")||e.message?.includes("502")||e.message?.includes("503")?{message:t("error-server")||"Our service is temporarily unavailable. We're working on it!",type:"error"}:e.message?.includes("403")||e.message?.includes("401")?{message:t("error-auth")||"Authentication error. Please refresh the page.",type:"error"}:{message:t("error-generic")||"Something went wrong. Please try again or contact support.",type:"error"}:{message:t("error-offline")||"No internet connection. Please check your network and try again.",type:"error"}}(e);I(a.message,a.type),o.innerHTML=`<span data-translate="appraisal-cta">${t("appraisal-cta")}</span> <i class="ph ph-arrow-right"></i>`,o.disabled=!1})})}setTimeout(function(){const e=document.querySelector(".typing-indicator");e&&setTimeout(()=>{const a=document.querySelector(".chat-container"),o=document.createElement("div");o.className="chat-message from-ai",o.innerHTML=`\n                    <div class="message-time">14:23</div>\n                    <div class="message-bubble ai-bubble" data-translate="chat-ai-msg-1">\n                        ${t("chat-ai-msg-1")}\n                    </div>\n                `,e.closest(".chat-message").remove(),a.appendChild(o),setTimeout(()=>{const e=document.createElement("div");e.className="chat-message from-client",e.innerHTML=`\n                        <div class="message-time">14:24</div>\n                        <div class="message-bubble" data-translate="chat-client-msg-1">\n                            ${t("chat-client-msg-1")}\n                        </div>\n                    `,a.appendChild(e),a.scrollTop=a.scrollHeight},2e3),a.scrollTop=a.scrollHeight},2e3)},3e3);const m=document.querySelectorAll(".stat-content .stat-number");let u=!1;function g(){u||m.forEach(e=>{const t=parseInt(e.textContent);let a=0;const o=t/50,i=setInterval(()=>{a+=o,a>=t&&(a=t,clearInterval(i),u=!0),e.textContent=Math.floor(a)},40)})}const h=document.querySelector(".dashboard-section");if(h&&m.length>0){new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&setTimeout(g,500)})},{threshold:.3}).observe(h)}const f=document.querySelectorAll(".conversation-item");f.forEach(e=>{e.addEventListener("click",function(){f.forEach(e=>e.classList.remove("active")),this.classList.add("active")})});document.querySelectorAll(".feature-card").forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-12px) scale(1.02)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0) scale(1)"})});const v=document.querySelectorAll(".problem-stat");let b=!1;function y(){b||v.forEach((e,t)=>{const a=e.querySelector(".stat-number"),o=a.textContent,i=o.includes("%"),n=o.includes("â‚¬");let r=parseInt(o.replace(/[^0-9]/g,"")),s=0;const l=r/60,c=setInterval(()=>{s+=l,s>=r&&(s=r,clearInterval(c),b=!0);let e=Math.floor(s);i&&(e+="%"),n&&(e="â‚¬"+e.toLocaleString()),a.textContent=e},30+100*t)})}const w=document.querySelector(".problem-section");if(w&&v.length>0){new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&setTimeout(y,800)})},{threshold:.4}).observe(w)}document.querySelectorAll(".form-group input, .form-group select").forEach(e=>{e.addEventListener("focus",function(){this.parentElement.classList.add("focused")}),e.addEventListener("blur",function(){this.parentElement.classList.remove("focused"),this.value?this.parentElement.classList.add("filled"):this.parentElement.classList.remove("filled")})});const A=document.querySelector(".hero");function I(e,t="info"){const a=document.querySelector(".notification");a&&a.remove();const o=document.createElement("div");o.className=`notification notification-${t}`,o.innerHTML=`\n            <div class="notification-content">\n                <i class="ph ph-${"success"===t?"check-circle":"error"===t?"x-circle":"info"}"></i>\n                <span>${e}</span>\n                <button class="notification-close">\n                    <i class="ph ph-x"></i>\n                </button>\n            </div>\n        `,o.style.cssText=`\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background: ${"success"===t?"#059669":"error"===t?"#dc2626":"#1e40af"};\n            color: white;\n            padding: 16px 20px;\n            border-radius: 12px;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n            z-index: 10000;\n            transform: translateX(100%);\n            transition: transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);\n            max-width: 400px;\n            font-family: Inter, sans-serif;\n        `,o.querySelector(".notification-content").style.cssText="\n            display: flex;\n            align-items: center;\n            gap: 12px;\n        ",o.querySelector(".notification-close").style.cssText="\n            background: none;\n            border: none;\n            color: white;\n            cursor: pointer;\n            padding: 4px;\n            margin-left: auto;\n        ",document.body.appendChild(o),setTimeout(()=>{o.style.transform="translateX(0)"},100);o.querySelector(".notification-close").addEventListener("click",()=>{o.style.transform="translateX(100%)",setTimeout(()=>o.remove(),300)}),setTimeout(()=>{o.parentNode&&(o.style.transform="translateX(100%)",setTimeout(()=>o.remove(),300))},5e3)}A&&window.addEventListener("scroll",function(){const e=-.3*window.pageYOffset;A.style.transform=`translateY(${e}px)`});const E=document.createElement("style");E.textContent="\n        @media (max-width: 768px) {\n            .nav-links {\n                position: fixed;\n                top: 100%;\n                left: 0;\n                right: 0;\n                background: white;\n                border-top: 1px solid rgba(148, 163, 184, 0.2);\n                padding: 24px;\n                display: flex;\n                flex-direction: column;\n                gap: 16px;\n                transform: translateY(-100%);\n                opacity: 0;\n                visibility: hidden;\n                transition: all 0.3s ease;\n                box-shadow: 0 8px 25px rgba(15, 23, 42, 0.15);\n                z-index: 999;\n            }\n\n            .nav-links.active {\n                transform: translateY(0);\n                opacity: 1;\n                visibility: visible;\n            }\n\n            .nav-links .btn-primary {\n                margin-top: 16px;\n                align-self: flex-start;\n            }\n        }\n    ",document.head.appendChild(E);const z=function(e,t){let a;return function(...o){clearTimeout(a),a=setTimeout(()=>{clearTimeout(a),e(...o)},t)}}(function(){},16);if(window.addEventListener("scroll",z),document.addEventListener("keydown",function(e){if("Escape"===e.key&&o&&o.classList.contains("active")){o.classList.remove("active");const e=a.querySelector("i");e.classList.remove("ph-x"),e.classList.add("ph-list")}}),o){const e=o.querySelectorAll("a, button"),t=e[0],i=e[e.length-1];a.addEventListener("click",function(){setTimeout(()=>{o.classList.contains("active")&&t.focus()},300)}),o.addEventListener("keydown",function(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===t&&(i.focus(),e.preventDefault()):document.activeElement===i&&(t.focus(),e.preventDefault()))})}console.log("ðŸ  Anzevino AI Real Estate - Website Loaded Successfully")}),window.addEventListener("load",function(){setTimeout(()=>{const e=performance.getEntriesByType("navigation");if(e.length>0){const t=e[0],a=t.loadEventEnd-t.startTime;console.log(`ðŸš€ Page load time: ${a.toFixed(2)}ms`)}},0)});const translations={it:{"nav-soluzione":"Soluzione","nav-dashboard":"Dashboard","nav-caratteristiche":"Caratteristiche","nav-contatto":"Contatto","nav-prenota-demo":"Prenota Demo","nav-valutazione":"Stima Preliminare","hero-subtitle":"Il Futuro dell'Immobiliare","hero-title":"Vendi piÃ¹ case ","hero-title-highlight":"mentre dormi","hero-description":"Il tuo primo Agente AI che qualifica i lead su WhatsApp in 15 secondi, 24 ore su 24. Trasforma ogni notturna in un'opportunitÃ  di vendita.","hero-cta-button":"Prenota una Demo Gratuita","hero-cta-note":"Nessun impegno â€¢ Setup in 24 ore â€¢ Garanzia risultati","problem-tag":"Il Problema","problem-title":"Stai perdendo il 80% dei tuoi migliori clienti","problem-description":"Ogni giorno, centinaia di potenziali acquirenti visitano Immobiliare.it e Idealista, compilano moduli e ti contattano via WhatsApp. Ma quando li chiami, sono giÃ  passati alla concorrenza.","problem-stat-lost":"dei lead persi entro 2 ore","problem-stat-money":"perdita media annua per agenzia","problem-stat-whatsapp":"dei clienti preferisce WhatsApp","problem-scenario-1-title":"Ore 22:30 - Cliente notturno","problem-scenario-1-desc":"Interessato a un bilocale, scrive su WhatsApp. Tu dormi. Il concorrente risponde in 2 minuti.","problem-scenario-2-title":"Domenica pomeriggio - Weekend","problem-scenario-2-desc":'Coppia vuole vedere 3 appartamenti. Chiami lunedÃ¬: "Abbiamo giÃ  comprato".',"chart-title":"Lead Persi nel Tempo","demo-live-tag":"Demo Live","demo-live-title":"Guarda l'AI in Azione","demo-live-desc":"In questo video ti mostro esattamente come l'AI gestisce un lead dal primo contatto all'appuntamento.","dashboard-tag":"Dashboard di Controllo","dashboard-title":"Monitora tutto in tempo reale","dashboard-subtitle":"La tua console di comando per controllare ogni conversazione AI, gestire i lead e ottimizzare le performance di vendita.","dashboard-logo-name":"Anzevino AI","dashboard-conversazioni":"Conversazioni","dashboard-clienti":"Clienti","dashboard-proprieta":"ProprietÃ ","dashboard-appuntamenti":"Appuntamenti","dashboard-analytics":"Analytics","dashboard-conversazioni-oggi":"Conversazioni Oggi","dashboard-lead-qualificati":"Lead Qualificati","dashboard-visite-prenotate":"Visite Prenotate","dashboard-conversazioni-recenti":"Conversazioni Recenti","dashboard-vedi-tutte":"Vedi tutte","dashboard-whatsapp":"WhatsApp","dashboard-time-2min":"2 min fa","dashboard-time-5min":"5 min fa","dashboard-time-8min":"8 min fa","dashboard-status-hot":"HOT LEAD","dashboard-status-qualified":"QUALIFICATO","dashboard-status-followup":"FOLLOW UP","dashboard-preview-1":"Budget 500k, trilocale zona Porta Nuova...","dashboard-preview-2":"Visita prenotata per domani alle 15:00...","dashboard-preview-3":"Inviate 3 alternative bilocali zona Niguarda...","features-tag":"Caratteristiche","features-title":"Tutto quello che ti serve per vendere di piÃ¹","features-subtitle":"Una suite completa di strumenti AI progettata specificamente per le agenzie immobiliari italiane.","feature-item-language":"Supporto multilingue (IT/EN)","feature-item-tone":"Tone of voice personalizzabile","feature-item-takeover":"Takeover umano immediato","feature-1-title":"Risposte WhatsApp Istantanee","feature-1-desc":"Risposta automatica in meno di 15 secondi, 24 ore su 24, anche durante i weekend e le festivitÃ .","feature-1-highlight":"tempo medio di risposta","feature-2-title":"DisponibilitÃ  24/7","feature-2-desc":"Il tuo agente AI lavora ininterrottamente, anche quando tu dormi o sei in vacanza.","feature-2-highlight":"ore di lavoro annuali","feature-3-title":"Supporto Multi-lingua","feature-3-desc":"Comunicazione automatica in italiano e inglese, con riconoscimento intelligente della lingua del cliente.","feature-3-highlight":"lingue supportate","feature-4-title":"Integrazione CRM Diretta","feature-4-desc":"Connessione immediata con i principali CRM immobiliari: Casa.it, Immobiliare.it, Idealista e software gestionali.","feature-4-highlight":"integrazioni disponibili","feature-5-title":"Analytics Avanzate","feature-5-desc":"Report dettagliati su performance, conversione e ROI della tua strategia AI.","feature-5-highlight":"metriche tracciate","feature-6-title":"Sicurezza e Privacy","feature-6-desc":"GDPR compliant, crittografia end-to-end e server italiani per la massima protezione dei dati.","feature-6-highlight":"GDPR compliant","stat-speed-title":"VelocitÃ  Estrema","stat-speed-desc":"Risposte in meno di 15 secondi su WhatsApp, superando ogni aspettativa del cliente.","stat-conv-title":"Conversion Rate +300%","stat-conv-desc":"Trasforma semplici curiosi in lead qualificati pronti per la visita.","stat-team-title":"Team Potenziato","stat-team-desc":"I tuoi agenti si concentrano solo sulle visite, l'AI gestisce tutto il funnel iniziale.","contact-tag":"Inizia Oggi","contact-title":"Trasforma la tua agenzia in una macchina di vendite","contact-subtitle":"Parla con un esperto e scopri come l'AI puÃ² aumentare le tue vendite del 300% in soli 90 giorni.","contact-form-title":"Prenota la tua demo gratuita","contact-form-subtitle":"Compila il form e ti contatteremo entro 2 ore","form-name":"Nome *","form-agency":"Nome Agenzia *","form-phone":"Telefono *","form-email":"Email","form-properties":"Quante proprietÃ  gestisci?","form-submit":"Prenota Demo Gratuita","form-note":"I tuoi dati sono protetti e non verranno mai condivisi","form-name-placeholder":"Il tuo nome completo","form-agency-placeholder":"Nome della tua agenzia","form-phone-placeholder":"+39 123 456 7890","form-email-placeholder":"tua@email.it (opzionale)","form-properties-option-empty":"Seleziona una opzione","form-properties-option-1-50":"1-50 proprietÃ ","form-properties-option-51-100":"51-100 proprietÃ ","form-properties-option-101-200":"101-200 proprietÃ ","form-properties-option-200+":"Oltre 200 proprietÃ ","footer-description":"Il primo agente AI per le agenzie immobiliari italiane. Trasforma ogni contatto in un'opportunitÃ  di vendita.","footer-soluzione":"Soluzione","footer-come-funziona":"Come Funziona","footer-dashboard":"Dashboard","footer-caratteristiche":"Caratteristiche","footer-prezzi":"Prezzi","footer-azienda":"Azienda","footer-chi-siamo":"Chi Siamo","footer-case-study":"Case Study","footer-partner":"Partner","footer-careers":"Careers","footer-supporto":"Supporto","footer-centro-assistenza":"Centro Assistenza","footer-documentazione":"Documentazione","footer-stato-sistema":"Stato Sistema","footer-contatto":"Contatto","footer-legal":"Legal","footer-privacy":"Privacy Policy","footer-terms":"Termini di Servizio","footer-cookies":"Cookie Policy","footer-gdpr":"GDPR","footer-copyright":"Â© 2025 Anzevino AI Real Estate. Tutti i diritti riservati.","demo-title":"Esempio di Conversazione AI","demo-ai-in-azione":"AI in azione","demo-client-label":"Cliente","demo-ai-label":"Anzevino AI","demo-step-1-msg":"Buongiorno, vorrei informazioni su appartamenti a Milano Porta Nuova","demo-step-2-msg":"Buongiorno! Sono l'assistente virtuale dell'agenzia. Per aiutarti al meglio, mi puoi dire il budget disponibile e che tipologia stai cercando?","demo-step-3-msg":"Budget 400k, vorrei un bilocale moderno","demo-step-4-msg":"Perfetto! Ho trovato 3 bilocali in Porta Nuova nel tuo budget. Ti invio le planimetrie e organizziamo una visita per giovedÃ¬ alle 16:00?","demo-step-5-msg":"SÃ¬, perfetto! A giovedÃ¬ allora","demo-step-6-msg":"Confermato! Appuntamento giovedÃ¬ 16:00 in Via Dante 12. Riceverai un promemoria domani. Buona giornata!","stat-tempo-risposta":"Tempo di risposta","stat-disponibilita":"DisponibilitÃ ","stat-lead-qualificati":"Lead qualificati","benefit-demo":"Demo personalizzata in 30 minuti","benefit-setup":"Setup gratuito e senza impegno","benefit-formazione":"Formazione inclusa per il tuo team","benefit-supporto":"Supporto tecnico dedicato","appraisal-tag":"NovitÃ ","appraisal-title":"Valutazione Immobiliare Preliminare","appraisal-subtitle":"Analisi basata su modelli statistici avanzati. Ottieni un supporto decisionale immediato direttamente su WhatsApp.","appraisal-f1":"Analisi Big Data real-time","appraisal-f2":"Risultato diretto su WhatsApp","appraisal-f3":"Precisione per quartiere","appraisal-address-placeholder":"Indirizzo dell'immobile","appraisal-postcode-placeholder":"CAP / Codice Postale","appraisal-phone-placeholder":"Tuo WhatsApp (+39 ...)","appraisal-cta":"Calcola Stima Preliminare","appraisal-disclaimer":"I tuoi dati sono protetti e criptati. Rispetto totale della privacy.","appraisal-legal-check":"Accetto che questa Ã¨ una stima preliminare e non sostituisce un professionista.","appraisal-res-badge":"Supporto Valutativo Preliminare","appraisal-res-label":"Valore Stimato","appraisal-res-confidence-high":"Confidenza Alta","appraisal-res-confidence-mid":"Confidenza Media","appraisal-res-confidence-low":"Confidenza Bassa","appraisal-res-price-sqm":"Prezzo/mq","appraisal-res-rent":"Affitto Stimato","appraisal-res-rent-suffix":"/mese","appraisal-res-yield":"Yield (Lordo)","appraisal-res-inv-title":"ðŸ“Š Analisi Investimento","appraisal-res-cap-rate":"Cap Rate","appraisal-res-cap-hint":"Rendimento annuo lordo","appraisal-res-roi":"ROI (5 anni)","appraisal-res-roi-hint":"Ritorno totale stimato","appraisal-res-coc":"Cash-on-Cash","appraisal-res-coc-hint":"Rendimento su capitale","appraisal-res-whatsapp-sent":"Ti abbiamo inviato il report completo su WhatsApp!","appraisal-res-download-pdf":"Scarica Report PDF","appraisal-res-expert":"Parla con un esperto","appraisal-status-analyzing":"Analisi...","appraisal-status-success":"Valutazione in arrivo!","appraisal-status-pdf-generating":"Generazione...","appraisal-status-pdf-success":"Scaricato","appraisal-condition-luxury":"ðŸ’Ž Di Lusso / Ristrutturato","appraisal-condition-excellent":"âœ¨ Ottimo Stato","appraisal-condition-good":"ðŸ  Buono Stato","appraisal-condition-fair":"ðŸ”¨ Da Ristrutturare","appraisal-condition-poor":"ðŸšï¸ Completamente da rifare","appraisal-condition-label":"Condizioni immobile","form-error-missing":"Compila tutti i campi obbligatori","form-error-phone":"Numero di telefono non valido","form-error-disclaimer":"Ãˆ necessario accettare i termini per procedere","generic-error":"Errore. Riprova piÃ¹ tardi.",retry:"Riprova","chat-ai-msg-1":"Perfetto! Ho trovato 3 trilocali disponibili a Porta Nuova nel tuo budget. Ti invio le foto e organizziamo una visita per domani alle 16:00?","chat-client-msg-1":"SÃ¬, mi interessa! Grazie per la velocitÃ  della risposta","meta-title":"Anzevino AI Real Estate | Il Primo Agente AI per le Agenzie Immobiliari","meta-description":"Vendi piÃ¹ case mentre dormi. Il tuo primo Agente AI che qualifica i lead su WhatsApp in 15 secondi, 24 ore su 24.","badge-gdpr":"GDPR Compliant","badge-partner":"Partner Immobiliare.it","badge-certified":"Certificato AI","notif-title":"Nuovo Lead Qualificato","notif-client":"Cliente: Marco R.","notif-pref":"Preferenza: Trilocale Prati","ai-active":"AI Attivo","appraisal-sqm-placeholder":"Superficie (mq)","appraisal-res-feedback":"Lascia un Feedback","notif-score":"Punteggio","testimonial-quote":'"In 3 mesi abbiamo aumentato le vendite del 340%. L\'AI risponde meglio di molti agenti umani."',"testimonial-role":"Direttore, Milano Premium Real Estate","appraisal-cta-button":"Prova Gratuitamente Fifi AI","chat-entry-client":"Ciao, sono interessato a un trilocale a Roma zona Prati","chat-entry-ai":"Perfetto! Ho trovato 3 trilocali disponibili a Prati. Posso inviarti le foto e organizzare una visita per domani?","chat-entry-feedback":"SÃ¬, mi interessa! Grazie per la velocitÃ ","nav-home":"Home","nav-dashboard":"Dashboard","nav-contattaci":"Contattaci","nav-login":"Accedi","nav-logout":"Esci","login-page-title":"Accedi | Anzevino AI Real Estate","login-title":"Accedi al tuo Account","login-subtitle":"Gestisci la tua agenzia con l'AI","login-email":"Email","login-password":"Password","login-button":"Accedi","login-loading":"Accesso in corso...","login-no-account":"Non hai un account?","login-register-link":"Registrati","login-forgot":"Password dimenticata?","login-back-home":"Torna alla Home","login-email-placeholder":"tua@email.it","login-password-placeholder":"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢","register-page-title":"Registrati | Anzevino AI Real Estate","register-title":"Crea il tuo Account","register-subtitle":"Inizia a vendere di piÃ¹ con l'AI","register-agency":"Nome Agenzia","register-email":"Email","register-phone":"Telefono","register-password":"Password","register-confirm-password":"Conferma Password","register-button":"Registrati","register-loading":"Registrazione in corso...","register-have-account":"Hai giÃ  un account?","register-login-link":"Accedi","register-back-home":"Torna alla Home","register-agency-placeholder":"Nome della tua agenzia","register-email-placeholder":"tua@email.it","register-phone-placeholder":"+39 123 456 7890","register-password-placeholder":"Minimo 8 caratteri","register-password-hint":"Minimo 8 caratteri, una lettera maiuscola e un numero","register-confirm-password-placeholder":"Ripeti la password"},en:{"nav-soluzione":"Solution","nav-dashboard":"Dashboard","nav-caratteristiche":"Features","nav-contatto":"Contact","nav-prenota-demo":"Book Demo","nav-valutazione":"Preliminary Estimate","hero-subtitle":"The Future of Real Estate","hero-title":"Sell more homes ","hero-title-highlight":"while you sleep","hero-description":"Your first AI Agent that qualifies leads on WhatsApp in 15 seconds, 24/7. Turn every night into a sales opportunity.","hero-cta-button":"Book a Free Demo","hero-cta-note":"No commitment â€¢ Setup in 24 hours â€¢ Results guaranteed","problem-tag":"The Problem","problem-title":"You're losing 80% of your best customers","problem-description":"Every day, hundreds of potential buyers visit portals, fill out forms and contact you via WhatsApp. But when you call them, they've already gone to the competition.","problem-stat-lost":"of leads lost within 2 hours","problem-stat-money":"avg annual loss per agency","problem-stat-whatsapp":"of customers prefer WhatsApp","problem-scenario-1-title":"10:30 PM - Nightly Lead","problem-scenario-1-desc":"Interested in a flat, writes on WhatsApp. You are asleep. The competitor responds in 2 minutes.","problem-scenario-2-title":"Sunday Afternoon - Weekend","problem-scenario-2-desc":'Couple wants to see 3 apartments. You call on Monday: "We already bought one".',"chart-title":"Leads Lost Over Time","demo-live-tag":"Live Demo","demo-live-title":"Watch AI in Action","demo-live-desc":"In this video I show you exactly how the AI handles a lead from first contact to appointment.","dashboard-tag":"Control Dashboard","dashboard-title":"Monitor everything in real time","dashboard-subtitle":"Your command console to control every AI conversation, manage leads and optimize sales performance.","dashboard-logo-name":"Anzevino AI","dashboard-conversazioni":"Conversations","dashboard-clienti":"Clients","dashboard-proprieta":"Properties","dashboard-appuntamenti":"Appointments","dashboard-analytics":"Analytics","dashboard-conversazioni-oggi":"Conversations Today","dashboard-lead-qualificati":"Qualified Leads","dashboard-visite-prenotate":"Booked Visits","dashboard-conversazioni-recenti":"Recent Conversations","dashboard-vedi-tutte":"View All","dashboard-whatsapp":"WhatsApp","dashboard-time-2min":"2 min ago","dashboard-time-5min":"5 min ago","dashboard-time-8min":"8 min ago","dashboard-status-hot":"HOT LEAD","dashboard-status-qualified":"QUALIFIED","dashboard-status-followup":"FOLLOW UP","dashboard-preview-1":"Budget 500k, 3-room apt in Porta Nuova...","dashboard-preview-2":"Viewing booked for tomorrow at 3 PM...","dashboard-preview-3":"Sent 3 alternatives in Niguarda area...","features-tag":"Features","features-title":"Everything you need to sell more","features-subtitle":"A complete suite of AI tools designed specifically for real estate agencies.","feature-item-language":"Multilingual Support (IT/EN)","feature-item-tone":"Customizable Tone of Voice","feature-item-takeover":"Immediate Human Takeover","feature-1-title":"Instant WhatsApp Responses","feature-1-desc":"Automatic response in less than 15 seconds, 24/7, even during weekends and holidays.","feature-1-highlight":"average response time","feature-2-title":"24/7 Availability","feature-2-desc":"Your AI agent works uninterruptedly, even while you sleep or are on vacation.","feature-2-highlight":"annual working hours","feature-3-title":"Multi-language Support","feature-3-desc":"Automatic communication in Italian and English, with intelligent recognition of the client's language.","feature-3-highlight":"supported languages","feature-4-title":"Direct CRM Integration","feature-4-desc":"Immediate connection with major real estate CRMs: Casa.it, Immobiliare.it, Idealista, and management software.","feature-4-highlight":"available integrations","feature-5-title":"Advanced Analytics","feature-5-desc":"Detailed reports on performance, conversion, and ROI of your AI strategy.","feature-5-highlight":"tracked metrics","feature-6-title":"Security and Privacy","feature-6-desc":"GDPR compliant, end-to-end encryption, and Italian servers for maximum data protection.","feature-6-highlight":"GDPR compliant","stat-speed-title":"Extreme Speed","stat-speed-desc":"Responses in less than 15 seconds on WhatsApp, exceeding every customer expectation.","stat-conv-title":"Conversion Rate +300%","stat-conv-desc":"Turns simple curious prospects into qualified leads ready for viewing.","stat-team-title":"Boosted Team","stat-team-desc":"Your agents focus only on viewings, the AI manages the entire initial funnel.","contact-tag":"Start Today","contact-title":"Turn your agency into a sales machine","contact-subtitle":"Talk to an expert and discover how AI can increase your sales by 300% in just 90 days.","contact-form-title":"Book your free demo","contact-form-subtitle":"Fill out the form and we'll contact you within 2 hours","form-name":"Name *","form-agency":"Agency Name *","form-phone":"Phone *","form-email":"Email","form-properties":"How many properties do you manage?","form-submit":"Book Free Demo","form-note":"Your data is protected and will never be shared","form-name-placeholder":"Your full name","form-agency-placeholder":"Your agency name","form-phone-placeholder":"+39 123 456 7890","form-email-placeholder":"your@email.com (optional)","form-properties-option-empty":"Select an option","form-properties-option-1-50":"1-50 properties","form-properties-option-51-100":"51-100 properties","form-properties-option-101-200":"101-200 properties","form-properties-option-200+":"Over 200 properties","footer-description":"The first AI agent for Italian real estate agencies. Turn every contact into a sales opportunity.","footer-soluzione":"Solution","footer-come-funziona":"How It Works","footer-dashboard":"Dashboard","footer-caratteristiche":"Features","footer-prezzi":"Pricing","footer-azienda":"Company","footer-chi-siamo":"About Us","footer-case-study":"Case Studies","footer-partner":"Partners","footer-careers":"Careers","footer-supporto":"Support","footer-centro-assistenza":"Help Center","footer-documentazione":"Documentation","footer-stato-sistema":"System Status","footer-contatto":"Contact","footer-legal":"Legal","footer-privacy":"Privacy Policy","footer-terms":"Terms of Service","footer-cookies":"Cookie Policy","footer-gdpr":"GDPR","footer-copyright":"Â© 2025 Anzevino AI Real Estate. All rights reserved.","demo-title":"AI Conversation Example","demo-ai-in-azione":"AI in action","demo-client-label":"Client","demo-ai-label":"Anzevino AI","demo-step-1-msg":"Hello, I would like information about apartments in Milan Porta Nuova","demo-step-2-msg":"Hello! I am the agency's virtual assistant. To help you better, can you tell me your budget and what type you are looking for?","demo-step-3-msg":"Budget 400k, I'd like a modern 2-room apartment","demo-step-4-msg":"Perfect! I found 3 apartments in Porta Nuova within your budget. Shall I send you the plans and organize a visit for Thursday at 4 PM?","demo-step-5-msg":"Yes, perfect! See you on Thursday then","demo-step-6-msg":"Confirmed! Appointment Thursday 4 PM in Via Dante 12. You'll receive a reminder tomorrow. Have a great day!","stat-tempo-risposta":"Response time","stat-disponibilita":"Availability","stat-lead-qualificati":"Qualified leads","benefit-demo":"Personalized demo in 30 minutes","benefit-setup":"Free setup with no commitment","benefit-formazione":"Training included for your team","benefit-supporto":"Dedicated technical support","appraisal-tag":"New","appraisal-title":"Preliminary Real Estate Valuation","appraisal-subtitle":"Analysis based on advanced statistical models. Get immediate decision support directly on WhatsApp.","appraisal-f1":"Real-time Big Data analysis","appraisal-f2":"Direct results on WhatsApp","appraisal-f3":"Neighborhood precision","appraisal-address-placeholder":"Property address","appraisal-postcode-placeholder":"CAP / Postcode","appraisal-phone-placeholder":"Your WhatsApp (+39 ...)","appraisal-cta":"Calculate Preliminary Estimate","appraisal-disclaimer":"Your data is protected and encrypted. Total privacy respect.","appraisal-legal-check":"I accept that this is a preliminary estimate and does not replace a professional.","appraisal-res-badge":"Preliminary Valuation Support","appraisal-res-label":"Estimated Value","appraisal-res-confidence-high":"High Confidence","appraisal-res-confidence-mid":"Medium Confidence","appraisal-res-confidence-low":"Low Confidence","appraisal-res-price-sqm":"Price/sqm","appraisal-res-rent":"Estimated Rent","appraisal-res-rent-suffix":"/month","appraisal-res-yield":"Yield (Gross)","appraisal-res-inv-title":"ðŸ“Š Investment Analysis","appraisal-res-cap-rate":"Cap Rate","appraisal-res-cap-hint":"Gross annual yield","appraisal-res-roi":"ROI (5 years)","appraisal-res-roi-hint":"Total estimated return","appraisal-res-coc":"Cash-on-Cash","appraisal-res-coc-hint":"Return on equity","appraisal-res-whatsapp-sent":"We sent you the full report on WhatsApp!","appraisal-res-download-pdf":"Download PDF Report","appraisal-res-expert":"Talk to an expert","appraisal-status-analyzing":"Analyzing...","appraisal-status-success":"Valuation coming!","appraisal-status-pdf-generating":"Generating...","appraisal-status-pdf-success":"Downloaded","appraisal-condition-luxury":"ðŸ’Ž Luxury / Renovated","appraisal-condition-excellent":"âœ¨ Excellent Condition","appraisal-condition-good":"ðŸ  Good Condition","appraisal-condition-fair":"ðŸ”¨ To Renovate","appraisal-condition-poor":"ðŸšï¸ Total Remake","appraisal-condition-label":"Property condition","form-error-missing":"Please fill in all required fields","form-error-phone":"Invalid phone number","form-error-disclaimer":"You must accept the terms to proceed","generic-error":"Error. Please try again later.",retry:"Retry","chat-ai-msg-1":"Perfect! I found 3 apartments available in Porta Nuova within your budget. Shall I send photos and schedule a viewing for tomorrow at 4 PM?","chat-client-msg-1":"Yes, I'm interested! Thanks for the quick response","meta-title":"Anzevino AI Real Estate | The First AI Agent for Real Estate Agencies","meta-description":"Sell more homes while you sleep. Your first AI Agent that qualifies leads on WhatsApp in 15 seconds, 24/7.","badge-gdpr":"GDPR Compliant","badge-partner":"Immobiliare.it Partner","badge-certified":"AI Certified","notif-title":"New Qualified Lead","notif-client":"Client: Marco R.","notif-pref":"Preference: 3-room Prati","ai-active":"AI Active","appraisal-sqm-placeholder":"Surface Area (sqm)","appraisal-res-feedback":"Leave Feedback","notif-score":"Score","testimonial-quote":'"In 3 months we increased sales by 340%. The AI responds better than many human agents."',"testimonial-role":"Director, Milan Premium Real Estate","appraisal-cta-button":"Try Fifi AI for free","chat-entry-client":"Hello, I am interested in a 3-room apartment in Rome, Prati area","chat-entry-ai":"Perfect! I found 3 available apartments in Prati. Shall I send photos and schedule a viewing for tomorrow?","chat-entry-feedback":"Yes, I'm interested! Thanks for the speed","nav-home":"Home","nav-dashboard":"Dashboard","nav-contattaci":"Contact Us","nav-login":"Login","nav-logout":"Logout","login-page-title":"Login | Anzevino AI Real Estate","login-title":"Login to your Account","login-subtitle":"Manage your agency with AI","login-email":"Email","login-password":"Password","login-button":"Login","login-loading":"Logging in...","login-no-account":"Don't have an account?","login-register-link":"Sign up","login-forgot":"Forgot password?","login-back-home":"Back to Home","login-email-placeholder":"your@email.com","login-password-placeholder":"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢","register-page-title":"Sign Up | Anzevino AI Real Estate","register-title":"Create your Account","register-subtitle":"Start selling more with AI","register-agency":"Agency Name","register-email":"Email","register-phone":"Phone","register-password":"Password","register-confirm-password":"Confirm Password","register-button":"Sign up","register-loading":"Signing up...","register-have-account":"Already have an account?","register-login-link":"Login","register-back-home":"Back to Home","register-agency-placeholder":"Your agency name","register-email-placeholder":"your@email.com","register-phone-placeholder":"+39 123 456 7890","register-password-placeholder":"Minimum 8 characters","register-password-hint":"Minimum 8 characters, one uppercase letter and one number","register-confirm-password-placeholder":"Repeat password"}};function switchLanguage(e){for(const[t,a]of Object.entries(translations[e])){document.querySelectorAll(`[data-translate="${t}"]`).forEach(e=>{if("INPUT"===e.tagName||"TEXTAREA"===e.tagName)e.placeholder=a;else if("confidence-text"===e.id){const t=e.textContent.match(/\(\d+%\)/),o=t?` ${t[0]}`:"";e.textContent=a+o}else e.textContent=a})}document.documentElement.lang=e,translations[e]["meta-title"]&&(document.title=translations[e]["meta-title"]);const t=document.getElementById("meta-description");t&&translations[e]["meta-description"]&&t.setAttribute("content",translations[e]["meta-description"]);const a=window.location.href;if(a.includes("?lang=")){const t=a.replace(/\?lang=[a-z]{2}/,`?lang=${e}`);window.history.pushState({},"",t)}else window.history.pushState({},"",`${a}?lang=${e}`);const o=document.getElementById("home-link");o&&(o.href=`/?lang=${e}`);const i=document.getElementById("login-link");i&&(i.href=`/login.html?lang=${e}`),localStorage.setItem("preferredLanguage",e)}function t(e){const t=localStorage.getItem("preferredLanguage")||"it";return translations[t][e]||e}function initializeLanguage(){const e=new URLSearchParams(window.location.search).get("lang"),t=localStorage.getItem("preferredLanguage");let a=e||t||"it";["it","en"].includes(a)||(a="it");document.querySelectorAll(".lang-btn").forEach(e=>{e.classList.remove("active"),e.getAttribute("data-lang")===a&&e.classList.add("active")}),switchLanguage(a)}const languageToggle=document.querySelector(".language-toggle");if(languageToggle){const e=languageToggle.querySelectorAll(".lang-btn");e.forEach(t=>{t.addEventListener("click",function(){e.forEach(e=>e.classList.remove("active")),this.classList.add("active");const t=this.getAttribute("data-lang");switchLanguage(t);"function"==typeof showNotification&&showNotification(`Lingua: ${"it"===t?"Italiano":"English"}`,"info")})}),initializeLanguage()}function showLoadingProgress(e,t){let a=document.getElementById("loading-overlay");a||(a=document.createElement("div"),a.id="loading-overlay",a.innerHTML='\n            <div class="loading-content">\n                <div class="loading-spinner"></div>\n                <div class="loading-message" id="loading-message"></div>\n                <div class="progress-bar-container">\n                    <div class="progress-bar" id="progress-bar"></div>\n                </div>\n                <div class="progress-text" id="progress-text">0%</div>\n            </div>\n        ',document.body.appendChild(a)),a.classList.add("active"),document.getElementById("loading-message").textContent=e,document.getElementById("progress-bar").style.width=`${t}%`,document.getElementById("progress-text").textContent=`${Math.round(t)}%`}function hideLoadingProgress(){const e=document.getElementById("loading-overlay");e&&e.classList.remove("active")}window.addEventListener("error",function(e){e&&e.error&&console.error("JavaScript error:",e.error)}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("download-pdf-btn");e&&e.addEventListener("click",async function(e){e.preventDefault();const t=this.innerHTML,a="it"===document.documentElement.lang;this.innerHTML='<i class="ph ph-spinner"></i> '+(a?"Generazione...":"Generating..."),this.disabled=!0;try{const{jsPDF:e}=window.jspdf,t=document.getElementById("appraisal-result"),o="pdf-export-styles";let i=document.getElementById(o);i||(i=document.createElement("style"),i.id=o,document.head.appendChild(i)),i.textContent='\n                    #appraisal-result {\n                        background: white !important;\n                        color: #0f172a !important;\n                        padding: 40px !important;\n                        border-radius: 0 !important;\n                        box-shadow: none !important;\n                        width: 1000px !important; /* Fixed width for consistent capture */\n                    }\n                    #appraisal-result * {\n                        color: #0f172a !important;\n                        border-color: #e2e8f0 !important;\n                    }\n                    .result-badge {\n                        background: #f8fafc !important;\n                        border: 1px solid #e2e8f0 !important;\n                        color: #475569 !important;\n                    }\n                    .label, .metric-label {\n                        color: #64748b !important;\n                        text-transform: uppercase !important;\n                        font-weight: 600 !important;\n                    }\n                    .value-range {\n                        color: #0f172a !important;\n                        font-size: 3rem !important;\n                        margin: 1.5rem 0 !important;\n                    }\n                    .metric-card {\n                        background: #f8fafc !important;\n                        border: 1px solid #e2e8f0 !important;\n                        padding: 1.5rem !important;\n                    }\n                    .metric-card-label { color: #64748b !important; }\n                    .metric-card-value { color: #0f172a !important; font-size: 1.5rem !important; }\n                    .metric-card-hint { color: #94a3b8 !important; }\n                    .meter-bar { background: #f1f5f9 !important; border: 1px solid #e2e8f0 !important; }\n                    .meter-fill { background: #22c55e !important; }\n                    .result-cta, .close-result { display: none !important; }\n\n                    /* Add branded header for PDF */\n                    #appraisal-result::before {\n                        content: "Anzevino AI - Report Valutativo Professionale";\n                        display: block;\n                        font-size: 1.25rem;\n                        font-weight: bold;\n                        color: #1e40af !important;\n                        border-bottom: 2px solid #1e40af;\n                        margin-bottom: 2rem;\n                        padding-bottom: 1rem;\n                        text-align: center;\n                    }\n                ';const n=await html2canvas(t,{scale:3,useCORS:!0,logging:!1,backgroundColor:"#ffffff"});i.textContent="";const r=n.toDataURL("image/jpeg",.95),s=new e("p","mm","a4"),l=210,c=n.height*l/n.width,d=(new Date).toISOString().split("T")[0];s.addImage(r,"JPEG",0,0,l,c),s.save(`Anzevino_AI_Valuation_${d}.pdf`);const p=a?"Report PDF scaricato con successo!":"PDF Report downloaded successfully!";"function"==typeof showNotification?showNotification(p,"success"):alert(p)}catch(e){console.error("PDF Generation Error:",e);const t=a?"Errore nella generazione del PDF. Riprova.":"Error generating PDF. Please try again.";"function"==typeof showNotification?showNotification(t,"error"):alert(t)}finally{this.innerHTML=t,this.disabled=!1}})});const validators={postalCode:e=>/^[0-9]{5}$/.test(e),phone:e=>/^(\+39|0039|\+34|0034)?[0-9]{9,10}$/.test(e.replace(/\s/g,"")),sqm:e=>{const t=parseInt(e.replace(/,/g,""));return t>=20&&t<=500},address:e=>e.length>=5&&e.length<=200};function validateField(e,t){const a=e.value,o=t(a);return a?(e.classList.toggle("valid",o),e.classList.toggle("error",!o)):e.classList.remove("valid","error"),o}function formatPhoneNumber(e){let t=e.value.replace(/\s/g,"");if(t.startsWith("3")&&!t.startsWith("+")&&(t="+39"+t),t.startsWith("+39")&&t.length>5){const e=t.substring(3);e.length>3&&(t=`+39 ${e.substring(0,3)} ${e.substring(3)}`)}e.value=t}function formatPostalCode(e){let t=e.value.replace(/[^0-9]/g,"").substring(0,5);e.value=t}const appraisalCache={storage:new Map,ttl:9e5,generateKey:e=>`${e.city}_${e.zone}_${e.surface_sqm}_${e.condition}`,get(e){const t=this.storage.get(this.generateKey(e));return!t||Date.now()-t.timestamp>this.ttl?null:t.data},set(e,t){this.storage.set(this.generateKey(e),{data:t,timestamp:Date.now()})}};function displayAppraisalResults(e,a){document.querySelector(".appraisal-form-box").style.display="none";document.getElementById("appraisal-result").style.display="block";const o=e.investment_metrics||{},i=e.estimated_value>0,n=document.getElementById("no-data-alert"),r=document.getElementById("value-range");n&&r&&(n.style.display=i?"none":"flex",r.style.display=i?"block":"none");const s=document.getElementById("confidence-text");if(s)if(i&&e.confidence_level){const t="â­".repeat(e.reliability_stars||3);s.textContent=`${t} (${e.confidence_level}%)`}else s.textContent=t("appraisal-res-confidence-low");const l=e.reasoning?.includes("TEST MODE"),c=(e,t)=>{let a=e.monthly_rent||0;if(0===a&&t.estimated_value>0)a=.048*t.estimated_value/12;else if(0===a&&t.estimated_range_min>0){a=.048*((t.estimated_range_min+t.estimated_range_max)/2)/12}return Math.floor(a)};if(l){if(document.getElementById("res-min").innerHTML=(e.estimated_range_min||0).toLocaleString(),document.getElementById("res-max").innerHTML=(e.estimated_range_max||0).toLocaleString(),document.getElementById("res-sqm").innerHTML=(e.avg_price_sqm||0).toLocaleString(),o&&Object.keys(o).length>0&&i){const t=c(o,e);document.getElementById("res-rent").innerHTML=t.toLocaleString(),document.getElementById("res-yield").innerHTML=(o.cap_rate||0).toFixed(1),document.getElementById("res-cap-rate").innerHTML=(o.cap_rate||0).toFixed(1),document.getElementById("res-roi").innerHTML=(o.roi||0).toFixed(1),document.getElementById("res-coc").innerHTML=(o.cash_on_cash_return||0).toFixed(1)}}else if(animateValue("res-min",0,e.estimated_range_min||0,500),animateValue("res-max",0,e.estimated_range_max||0,500),animateValue("res-sqm",0,e.avg_price_sqm||0,500),o&&Object.keys(o).length>0&&i){animateValue("res-rent",0,c(o,e),500),animateValue("res-yield",0,o.cap_rate||0,500,!0),animateValue("res-cap-rate",0,o.cap_rate||0,500,!0),animateValue("res-roi",0,o.roi||0,500,!0),animateValue("res-coc",0,o.cash_on_cash_return||0,500,!0)}a.innerHTML=`<span data-translate="appraisal-cta">${t("appraisal-cta")}</span> <i class="ph ph-arrow-right"></i>`,a.disabled=!1}
