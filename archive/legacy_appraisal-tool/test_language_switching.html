<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Switching Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .language-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .lang-btn {
            padding: 8px 16px;
            border: 2px solid #ccc;
            background: transparent;
            cursor: pointer;
            border-radius: 4px;
        }
        .lang-btn.active {
            background: #1e40af;
            color: white;
            border-color: #1e40af;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
        }
        .translated-text {
            font-weight: bold;
            color: #1e40af;
        }
    </style>
</head>
<body>
    <h1>Language Switching Test</h1>

    <div class="language-toggle">
        <button class="lang-btn active" data-lang="it">IT</button>
        <button class="lang-btn" data-lang="en">EN</button>
    </div>

    <div class="test-section">
        <h2>Test Elements</h2>

        <div>
            <span data-translate="hero-title">Vendi più case </span>
            <span class="highlight" data-translate="hero-title-highlight">mentre dormi</span>
        </div>

        <p data-translate="hero-description">Il tuo primo Agente AI che qualifica i lead su WhatsApp in 15 secondi, 24 ore su 24. Trasforma ogni notturna in un'opportunità di vendita.</p>

        <button class="btn-primary">
            <span data-translate="hero-cta-button">Prenota una Demo Gratuita</span>
        </button>

        <div class="test-section">
            <h3>Form Elements</h3>
            <form>
                <div>
                    <label data-translate="form-name">Nome *</label>
                    <input type="text" placeholder="Il tuo nome completo" data-translate="form-name-placeholder">
                </div>

                <div>
                    <label data-translate="form-agency">Nome Agenzia *</label>
                    <input type="text" placeholder="Nome della tua agenzia" data-translate="form-agency-placeholder">
                </div>

                <div>
                    <label data-translate="form-properties">Quante proprietà gestisci?</label>
                    <select data-translate="form-properties">
                        <option value="" data-translate="form-properties-option-empty">Seleziona una opzione</option>
                        <option value="1-50" data-translate="form-properties-option-1-50">1-50 proprietà</option>
                        <option value="51-100" data-translate="form-properties-option-51-100">51-100 proprietà</option>
                    </select>
                </div>

                <button type="submit" data-translate="form-submit">Prenota Demo Gratuita</button>
            </form>
        </div>
    </div>

    <script>
        // Include the translations and language switching functions
        const translations = {
            it: {
                'hero-title': 'Vendi più case ',
                'hero-title-highlight': 'mentre dormi',
                'hero-description': 'Il tuo primo Agente AI che qualifica i lead su WhatsApp in 15 secondi, 24 ore su 24. Trasforma ogni notturna in un\'opportunità di vendita.',
                'hero-cta-button': 'Prenota una Demo Gratuita',
                'form-name': 'Nome *',
                'form-agency': 'Nome Agenzia *',
                'form-properties': 'Quante proprietà gestisci?',
                'form-submit': 'Prenota Demo Gratuita',
                'form-name-placeholder': 'Il tuo nome completo',
                'form-agency-placeholder': 'Nome della tua agenzia',
                'form-properties-option-empty': 'Seleziona una opzione',
                'form-properties-option-1-50': '1-50 proprietà',
                'form-properties-option-51-100': '51-100 proprietà'
            },
            en: {
                'hero-title': 'Sell more homes while you sleep',
                'hero-title-highlight': '',
                'hero-description': 'Your first AI Agent that qualifies leads on WhatsApp in 15 seconds, 24/7. Turn every night into a sales opportunity.',
                'hero-cta-button': 'Book a Free Demo',
                'form-name': 'Name *',
                'form-agency': 'Agency Name *',
                'form-properties': 'How many properties do you manage?',
                'form-submit': 'Book Free Demo',
                'form-name-placeholder': 'Your full name',
                'form-agency-placeholder': 'Your agency name',
                'form-properties-option-empty': 'Select an option',
                'form-properties-option-1-50': '1-50 properties',
                'form-properties-option-51-100': '51-100 properties'
            }
        };

        function switchLanguage(language) {
            for (const [key, text] of Object.entries(translations[language])) {
                const elements = document.querySelectorAll(`[data-translate="${key}"]`);
                elements.forEach(element => {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA' || element.tagName === 'SELECT') {
                        element.placeholder = text;
                    } else {
                        element.textContent = text;
                    }
                });
            }

            document.documentElement.lang = language;
            localStorage.setItem('preferredLanguage', language);
        }

        function initializeLanguage() {
            const savedLang = localStorage.getItem('preferredLanguage') || 'it';

            const langButtons = document.querySelectorAll('.lang-btn');
            langButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === savedLang) {
                    btn.classList.add('active');
                }
            });

            switchLanguage(savedLang);
        }

        const languageToggle = document.querySelector('.language-toggle');
        if (languageToggle) {
            const langButtons = languageToggle.querySelectorAll('.lang-btn');

            langButtons.forEach(button => {
                button.addEventListener('click', function() {
                    langButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');

                    const selectedLang = this.getAttribute('data-lang');
                    switchLanguage(selectedLang);

                    alert(`Language changed to ${selectedLang === 'it' ? 'Italiano' : 'English'}`);
                });
            });

            initializeLanguage();
        }
    </script>
</body>
</html>
